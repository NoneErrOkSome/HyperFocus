# **What Is the Difference Between Directives and System Calls in RISC-V?**

Directives and system calls **serve completely different purposes** in RISC-V assembly.

- **Directives (`.section`, `.word`, `.asciz`)** ‚Üí **Tell the assembler how to organize code and data** (but do NOT generate CPU instructions).
- **System calls (`ecall`)** ‚Üí **Request the OS to perform privileged operations** (such as printing, reading input, and exiting).

---

## **1Ô∏è‚É£ What Are Directives?**

- **Directives are instructions for the assembler**, NOT for the CPU.
- **They help define sections, variables, and constants** in memory.
- **Directives do NOT generate machine code**; they only organize the program.

üìå **Examples of Directives and Their Purpose**

|**Directive**|**Purpose**|**Example**|
|---|---|---|
|`.section .text`|Defines the **code section** (where instructions go)|`.section .text`|
|`.section .data`|Defines the **data section** (where variables go)|`.section .data`|
|`.word 10`|Stores a **32-bit integer** in memory|`var: .word 10`|
|`.asciz "Hello"`|Stores a **null-terminated string**|`msg: .asciz "Hello"`|

üìå **Key Takeaway:**

- Directives **ONLY affect the assembler and memory organization**, NOT the CPU.
- The CPU **never sees directives**; they are removed when the assembler converts assembly into machine code.

---

## **2Ô∏è‚É£ What Are System Calls?**

- **System calls (`ecall`) allow the program to interact with the OS**.
- **They are executed by the CPU** (unlike directives).
- **System calls handle privileged operations** (printing, reading input, file access).

üìå **Examples of System Calls**

|**Syscall Number (`a7`)**|**System Call**|**Purpose**|
|---|---|---|
|`64`|`write`|Print text to stdout.|
|`63`|`read`|Read user input from stdin.|
|`93`|`exit`|Terminate the program.|

üìå **Key Takeaway:**

- System calls **execute during runtime** and **require CPU instructions (`ecall`)**.
- **Unlike directives, system calls generate machine code**.

---

## **3Ô∏è‚É£ Directives vs. System Calls: Key Differences**

|**Feature**|**Directives**|**System Calls**|
|---|---|---|
|**Purpose**|Organizes code and data|Performs OS-level operations|
|**Executed by**|**Assembler (compile time)**|**CPU (runtime)**|
|**Generates machine code?**|‚ùå No|‚úÖ Yes|
|**Used for**|Declaring sections, variables, and constants|Printing, reading input, exiting, file I/O|
|**Example**|`.section .data`, `.word 10`|`li a7, 64` ‚Üí `ecall`|

üìå **Key Takeaway:**

- **Directives organize code; system calls execute actions.**
- **Directives disappear after assembly; system calls become real CPU instructions.**

---

## **4Ô∏è‚É£ Example: Directives vs. System Calls in a Program**

### **üîπ Using Directives to Define a String**

```assembly
.section .data
msg: .asciz "Hello, RISC-V!\n"  # Directive (only tells assembler how to store data)
```

‚úÖ **This does NOT generate CPU instructions; it just places `"Hello, RISC-V!\n"` in memory.**

### **üîπ Using System Calls to Print the String**

```assembly
.section .text
.global _start

_start:
    li a0, 1      # File descriptor (stdout)
    la a1, msg    # Load address of message
    li a2, 15     # Message length
    li a7, 64     # Syscall number (write)
    ecall         # Call the OS to print message
```

‚úÖ **This actually runs during execution and prints text to the screen.**

---

## **5Ô∏è‚É£ Summary**

|**Feature**|**Directives**|**System Calls**|
|---|---|---|
|**What it does**|Organizes code and data|Requests OS services|
|**When it runs**|**Compile-time** (assembler processes it)|**Runtime** (CPU executes it)|
|**Does it generate machine code?**|‚ùå No|‚úÖ Yes|
|**Does it affect program execution?**|‚ùå No|‚úÖ Yes|
|**Example**|`.section .data`, `.word 10`|`li a7, 64` ‚Üí `ecall`|

‚úÖ **Key Takeaway:**

- **Directives help set up the program, but they do not execute.**
- **System calls perform real operations during program execution.**

---

### **Next Steps**

Now that we understand **directives vs. system calls**, the next step is:

1. **Branching & Conditions (`beq`, `bne`, `blt`) for Decision Making.**
2. **Using Memory with Loops and Control Flow.**
3. **Building Small Programs with Variables & Conditions.**

Would you like to **continue with branching and conditions (`beq`, `bne`, `blt`) next?** üöÄ
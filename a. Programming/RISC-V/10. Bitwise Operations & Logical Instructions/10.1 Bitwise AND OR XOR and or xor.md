# **10.1 Bitwise AND OR XOR and or xor in RISC-V**

Bitwise operations manipulate **individual bits** within registers. These operations are fundamental in **low-level programming**, including:

- **Data manipulation**
- **Bitmasking**
- **Optimizing arithmetic operations**

---

## **1ï¸âƒ£ Overview of Bitwise Operations in RISC-V**

RISC-V provides **three main bitwise operators**:

|**Instruction**|**Operation**|**Effect on Bits**|
|---|---|---|
|`and rd, rs1, rs2`|**Bitwise AND**|Sets `rd[i] = rs1[i] & rs2[i]`|
|`or rd, rs1, rs2`|**Bitwise OR**|Sets `rd[i] = rs1[i]|
|`xor rd, rs1, rs2`|**Bitwise XOR**|Sets `rd[i] = rs1[i] ^ rs2[i]`|

ğŸ“Œ **Key Takeaways:**

- **AND (`&`)** â†’ **Keeps** bits that are `1` in **both** operands.
- **OR (`|`)** â†’ **Sets** bits that are `1` in **either** operand.
- **XOR (`^`)** â†’ **Flips** bits that differ in the two operands.

---

## **2ï¸âƒ£ Bitwise AND (`and`)**

**AND** keeps **only the bits that are `1` in both operands**.

ğŸ“Œ **Example: `5 & 3`**

```
    5   =  00000101
    3   =  00000011
-------------------
5 & 3   =  00000001   (1 in decimal)
```

ğŸ“Œ **RISC-V Assembly**

```assembly
li a0, 5       # Load 5 into a0
li a1, 3       # Load 3 into a1
and a2, a0, a1 # a2 = a0 & a1 (1)
```

âœ… **Result:** `a2 = 1`

ğŸ“Œ **Common Uses of AND** âœ” **Clearing bits (using bit masks)**  
âœ” **Checking if a bit is set**

---

## **3ï¸âƒ£ Bitwise OR (`or`)**

**OR** sets **bits to `1` if at least one operand has `1` in that position**.

ğŸ“Œ **Example: `5 | 3`**

```
    5   =  00000101
    3   =  00000011
-------------------
5 | 3   =  00000111   (7 in decimal)
```

ğŸ“Œ **RISC-V Assembly**

```assembly
li a0, 5       # Load 5 into a0
li a1, 3       # Load 3 into a1
or a2, a0, a1  # a2 = a0 | a1 (7)
```

âœ… **Result:** `a2 = 7`

ğŸ“Œ **Common Uses of OR** âœ” **Setting specific bits in a number**  
âœ” **Combining flags for configuration settings**

---

## **4ï¸âƒ£ Bitwise XOR (`xor`)**

**XOR** flips **bits that differ in the two operands**.

ğŸ“Œ **Example: `5 ^ 3`**

```
    5   =  00000101
    3   =  00000011
-------------------
5 ^ 3   =  00000110   (6 in decimal)
```

ğŸ“Œ **RISC-V Assembly**

```assembly
li a0, 5       # Load 5 into a0
li a1, 3       # Load 3 into a1
xor a2, a0, a1 # a2 = a0 ^ a1 (6)
```

âœ… **Result:** `a2 = 6`

ğŸ“Œ **Common Uses of XOR** âœ” **Flipping bits for toggling states**  
âœ” **Bitwise encryption** (XOR ciphers)  
âœ” **Swapping values without a temporary variable**

---

## **5ï¸âƒ£ Using Bitwise Operations in Conditional Logic**

### **ğŸ“Œ Checking If a Bit Is Set**

```assembly
li a0, 0b1010   # Binary: 1010 (Decimal 10)
li a1, 0b0001   # Binary: 0001 (Decimal 1)
and a2, a0, a1  # If result != 0, bit is set
```

âœ… **If `a2 == 0`, bit is NOT set. Otherwise, it is set.**

---

### **ğŸ“Œ Setting a Specific Bit**

```assembly
li a0, 0b0000   # Binary: 0000 (Decimal 0)
li a1, 0b0010   # Binary: 0010 (Decimal 2)
or a0, a0, a1   # Set bit 1
```

âœ… **Result:** `a0 = 0b0010`

---

### **ğŸ“Œ Clearing a Specific Bit**

```assembly
li a0, 0b1111   # Binary: 1111 (Decimal 15)
li a1, 0b1101   # Binary: 1101 (Decimal 13)
and a0, a0, a1  # Clear bit 1
```

âœ… **Result:** `a0 = 0b1101`

---

### **ğŸ“Œ Toggling a Bit**

```assembly
li a0, 0b1010   # Binary: 1010 (Decimal 10)
li a1, 0b0001   # Binary: 0001 (Decimal 1)
xor a0, a0, a1  # Toggle bit 0
```

âœ… **Result:** `a0 = 0b1011`

---

## **6ï¸âƒ£ Summary: Bitwise AND, OR, and XOR in RISC-V**

|**Instruction**|**Operation**|**Effect on Bits**|**Common Use Cases**|
|---|---|---|---|
|**`and rd, rs1, rs2`**|`rd = rs1 & rs2`|Keeps bits that are `1` in both operands|Masking, checking bit states|
|**`or rd, rs1, rs2`**|`rd = rs1|rs2`|Sets bits that are `1` in either operand|
|**`xor rd, rs1, rs2`**|`rd = rs1 ^ rs2`|Flips bits that differ|Toggling bits, encryption|

ğŸ“Œ **Final Takeaways:**

- **AND keeps only common `1` bits** â†’ Used for bit masking.
- **OR ensures `1` if any bit is `1`** â†’ Used for setting bits.
- **XOR flips differing bits** â†’ Used for toggling states.

---

### **ğŸ“Œ Next: 10.2 Bit Shifting sll srl sra (New Topic)**

Would you like to **continue with bit shifting operations**, or do you have any questions before moving forward? ğŸš€